(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{10:function(e,n,t){e.exports={loginPage:"Login_loginPage__j1Pyl",formWrapper:"Login_formWrapper__1MLKG",pageTitle:"Login_pageTitle__20FW_",signIn:"Login_signIn__2NDiE",label:"Login_label__3N5WY",button:"Login_button__2jwmN",error:"Login_error__1VO8S",input:"Login_input__27Rc-",forgot:"Login_forgot__9lvLV",dontHaveAcc:"Login_dontHaveAcc__3g5Ui",signUp:"Login_signUp__-C6MV"}},12:function(e,n,t){e.exports={navbar:"Navbar_navbar__11dtx",menuBars:"Navbar_menuBars__NmesK",navMenu:"Navbar_navMenu__2Wf2h",active:"Navbar_active__14Ehj",navText:"Navbar_navText__kVW3Q",navMenuItems:"Navbar_navMenuItems__1doNt",navbarToggle:"Navbar_navbarToggle__5bmIs",login:"Navbar_login__15a3e"}},13:function(e,n,t){e.exports={container:"Restore_container__2t558",loading:"Restore_loading__1bevm",loadingBox:"Restore_loadingBox__1iRzb"}},16:function(e,n,t){e.exports={input:"Input_input__1fFa_",errorInput:"Input_errorInput__EEFF8"}},17:function(e,n,t){e.exports={testContainer:"Test_testContainer__bFsv0",inputContainer:"Test_inputContainer__2-C-5",buttonContainer:"Test_buttonContainer__1yJDK",checkboxContainer:"Test_checkboxContainer__1P1DQ"}},22:function(e,n,t){e.exports={container:"NewPassword_container__-7AX0",loading:"NewPassword_loading__1hMGZ",loadingBox:"NewPassword_loadingBox__3ZNYm"}},37:function(e,n,t){e.exports={button:"Button_button__1cAWs"}},38:function(e,n,t){e.exports={checkbox:"Checkbox_checkbox__2sWqS"}},39:function(e,n,t){e.exports={container:"SendEmail_container__3AsJw"}},47:function(e,n,t){},48:function(e,n,t){},75:function(e,n,t){"use strict";t.r(n);var r=t(2),a=t(20),c=t.n(a),s=(t(47),t(48),t(3)),o=t(25),i=t.n(o),l=t(35),u=t(6),j=t(15),b=t.n(j),d=t(5),h=t(4),O={user:{_id:"fake_ID",email:"here is my email",name:"What for do i need a name , i have id",publicCardPacksCount:0,created:null,updated:null,isAdmin:!1,verified:!1,rememberMe:!1,error:"no errors",avatar:"some link will be here"}},g=function(e){return{type:"SET_USER",userData:e}},p={isLogged:!1,error:""},f=function(e,n,t){return function(r){R.login(e,n,t).then((function(e){e.data._id&&(r(m(!0)),r(g(e.data)))})).catch((function(e){r(x(e.response.data.error))}))}},x=function(e){return{type:"LOGIN_FAILED",error:e}},m=function(e){return{type:"LOGGING_IN",isLogged:e}},_=t(8),v=t(10),E=t.n(v),N=t(1),C=b.a.create({withCredentials:!0,baseURL:"http://localhost:7542/2.0/"}),R={login:function(e,n,t){return C.post("auth/login",{email:e,password:n,rememberMe:t})},me:function(){return C.post("auth/me",{})},logout:function(){return C.delete("auth/me")}},w=function(){var e=Object(d.b)(),n=Object(r.useState)("nya-admin@nya.nya1"),t=Object(u.a)(n,2),a=t[0],c=t[1],o=Object(r.useState)("1qazxcvBG"),j=Object(u.a)(o,2),b=j[0],h=j[1],O=Object(r.useState)(!0),g=Object(u.a)(O,2),p=g[0],x=(g[1],Object(r.useState)(!1)),m=Object(u.a)(x,2),v=m[0],C=m[1],R=Object(d.c)((function(e){return e.loginReducer.isLogged})),w=Object(d.c)((function(e){return e.loginReducer.error}));if(R)return Object(N.jsx)(s.a,{to:"/profile"});var S=function(){var n=Object(l.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e(f(a,b,p)),C(!0);case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(N.jsx)("div",{className:E.a.loginPage,children:Object(N.jsxs)("form",{className:E.a.formWrapper,children:[Object(N.jsx)("h1",{className:E.a.pageTitle,children:"It-incubator"}),Object(N.jsx)("h2",{className:E.a.signIn,children:"Sign In"}),Object(N.jsx)("span",{className:E.a.label,children:"Email"}),Object(N.jsx)("input",{value:a,onChange:function(e){C(!1);var n=e.currentTarget.value;c(n)},className:E.a.input}),Object(N.jsx)("span",{className:E.a.label,children:"Password"}),Object(N.jsx)("input",{value:b,onChange:function(e){C(!1),h(e.currentTarget.value)},className:E.a.input}),Object(N.jsx)(_.b,{to:"/restore",className:E.a.forgot,children:"Forgot Password"}),v?Object(N.jsx)(N.Fragment,{children:w&&Object(N.jsx)("span",{className:E.a.error,children:w})}):Object(N.jsx)("button",{onClick:S,className:E.a.button,children:"Login"}),Object(N.jsx)("span",{className:E.a.dontHaveAcc,children:"Don\u2019t have an account?"}),Object(N.jsx)(_.b,{to:"/signup",className:E.a.signUp,children:"Sign Up"})]})})},S=function(){var e=Object(d.c)((function(e){return e.profileReducer.user})),n=Object(d.c)((function(e){return e.loginReducer.isLogged}));return Object(N.jsx)("div",{children:n?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("span",{children:e.name}),Object(N.jsx)("img",{style:{width:"200px",height:"200px"},src:e.avatar,alt:"user avatar"})]}):Object(N.jsx)("span",{children:"You need to login first"})})},I=t(13),y=t.n(I),T=t(14),k=t(16),L=t.n(k),F=function(e){e.type;var n=e.onChange,t=e.onChangeText,r=e.onKeyPress,a=e.onEnter,c=e.error,s=(e.className,e.spanClassName,Object(T.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"])),o="".concat(L.a.input," ").concat(c?L.a.errorInput:L.a.input);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("input",Object(h.a)({type:"text",onChange:function(e){n&&n(e),t&&t(e.currentTarget.value)},onKeyPress:function(e){r&&r(e),a&&"Enter"===e.key&&a()},className:L.a.input},s)),c&&Object(N.jsx)("span",{className:o,children:c})]})},P=t(37),A=t.n(P),G=function(e){e.className;var n=Object(T.a)(e,["className"]);return Object(N.jsx)("button",Object(h.a)({className:A.a.button},n))},M=function(e){var n=e.email,t=e.onChangeEmail,r=e.emailError,a=e.password,c=e.onChangePassword,s=e.passwordError,o=e.onClickHandler,i=e.isFetching;return Object(N.jsx)("div",{children:i?Object(N.jsx)("span",{className:y.a.loading,children:"loading"}):Object(N.jsxs)("div",{className:y.a.container,children:[Object(N.jsx)("h1",{children:"Sign Up"}),Object(N.jsx)(F,{type:"email",placeholder:"Enter Email",onChangeText:t,value:n,error:r}),Object(N.jsx)(F,{type:"password",placeholder:"Enter Password",onChangeText:c,value:a,error:s}),Object(N.jsx)(G,{onClick:o,disabled:i,children:"Register"})]})})},W=b.a.create({withCredentials:!0,baseURL:"https://back-from-friday-project.herokuapp.com/2.0/"}),D=b.a.create({withCredentials:!0,baseURL:"http://localhost:7542/2.0/"}),U=function(e){return W.post("auth/forgot/",{email:e,from:"test-front-admin <ai73a@yandex.by>",message:"\n<div style=\"background-color: #520a27; padding: 15px\">\npassword recovery link: \n<a href='http://localhost:3000/#/set-new-password/$token$'>link</a>\n</div>\n"})},B=function(e){return D.post("auth/set-new-password/",e)},V=function(e,n){return D.post("auth/register",{email:e,password:n})},H={isFetching:!1,emailError:null,passwordError:null,isRegistrationSuccessful:!1},Y=function(e){return{type:"REGISTRATION/ISFETCHING",isFetching:e}},Z=function(e){return{type:"REGISTRATION/EMAILERROR",error:e}},K=function(e){return{type:"REGISTRATION/PASSWORDERROR",error:e}},q=function(){var e=Object(r.useState)(""),n=Object(u.a)(e,2),t=n[0],a=n[1],c=Object(r.useState)(""),o=Object(u.a)(c,2),i=o[0],l=o[1],j=Object(d.c)((function(e){return e.registration.emailError})),b=Object(d.c)((function(e){return e.registration.passwordError})),h=Object(d.c)((function(e){return e.registration.isFetching})),O=Object(d.c)((function(e){return e.registration.isRegistrationSuccessful})),g=Object(d.b)();return O?Object(N.jsx)(s.a,{to:"/"}):Object(N.jsx)(M,{email:t,onChangeEmail:function(e){a(e),g(Z(null))},emailError:j,password:i,onChangePassword:function(e){l(e),g(K(null))},passwordError:b,isFetching:h,onClickHandler:function(){""===t?g(Z("Required")):/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t)||g(Z("Invalid email address")),i.length<7&&g(K("Password should be more than 7 characters")),j||b||g(function(e,n){return function(t){t(Y(!0)),V(e,n).then((function(){t({type:"REGISTRATION/ISREGISTRATIONSUCCESSFUL",isRegistrationSuccessful:!0})})).catch((function(e){console.log(e.response.data.error)})).finally((function(){t(Y(!1))}))}}(t,i))}})},J=t(38),$=t.n(J),z=function(e){e.type;var n=e.onChange,t=e.onChangeChecked,r=(e.className,e.children,Object(T.a)(e,["type","onChange","onChangeChecked","className","children"]));return Object(N.jsx)("label",{children:Object(N.jsx)("input",Object(h.a)({type:"checkbox",onChange:function(e){n&&n(e),t&&t(e.currentTarget.checked)},className:$.a.checkbox},r))})},Q=t(17),X=t.n(Q),ee=function(){var e=Object(r.useState)(""),n=Object(u.a)(e,2),t=n[0],a=n[1],c=t?"":"error";return Object(N.jsxs)("div",{className:X.a.testContainer,children:[Object(N.jsxs)("div",{className:X.a.inputContainer,children:[Object(N.jsx)("span",{children:"Input Example"}),Object(N.jsx)(F,{onChangeText:a,value:t,error:c})]}),Object(N.jsxs)("div",{className:X.a.buttonContainer,children:[Object(N.jsx)("span",{children:"Button Example"}),Object(N.jsx)(G,{children:"Test"})]}),Object(N.jsxs)("div",{className:X.a.checkboxContainer,children:[Object(N.jsx)("span",{children:"Checkbox Example"}),Object(N.jsx)(z,{})]})]})},ne=function(){return Object(N.jsx)("div",{children:"Error"})},te=t(39),re=t.n(te),ae=function(){return Object(N.jsxs)("div",{className:re.a.container,children:[Object(N.jsx)("h1",{children:"Check email"}),Object(N.jsx)("h4",{children:"We've sent an Email with instructions to your Email"})]})},ce=function(e){var n=e.email,t=e.error,r=e.onChangeText,a=e.onClickHandler,c=e.isFetching,s=e.sendEmail;return Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:y.a.loadingBox,children:c?Object(N.jsx)("span",{className:y.a.loading,children:"loading"}):""}),s?Object(N.jsx)(ae,{}):Object(N.jsxs)("div",{className:y.a.container,children:[Object(N.jsx)("h1",{children:"Forgot your password ?"}),Object(N.jsx)(F,{type:"email",placeholder:"Enter Email",onChangeText:r,value:n,error:t}),Object(N.jsx)("h5",{children:"Enter your email address and we will send you further instructions"}),Object(N.jsx)(G,{onClick:a,disabled:c,children:"Send"})]})]})},se={isFetching:!1,error:null,setNewPassword:!1,sendEmail:!1},oe=function(e){return{type:"RECOVER/IS_FETCHING",payload:{isFetching:e}}},ie=function(e){return{type:"RECOVERY/ERROR",payload:{error:e}}},le=function(){var e=Object(r.useState)(""),n=Object(u.a)(e,2),t=n[0],a=n[1],c=Object(d.c)((function(e){return e.recovery.error})),s=Object(d.c)((function(e){return e.recovery.isFetching})),o=Object(d.c)((function(e){return e.recovery.sendEmail})),i=Object(d.b)();return Object(N.jsx)(ce,{email:t,onChangeText:function(e){a(e),null!==c&&i(ie(c))},onClickHandler:function(){""===t?i(ie("Required")):/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t)?(i(function(e){return function(n){n(oe(!0)),U(e).then((function(e){console.log(e.data),n({type:"RECOVERY/SEND_EMAIL"})})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";n(ie(t))})).finally((function(){n(oe(!1))}))}}(t)),a("")):i(ie("Invalid email address"))},error:c,isFetching:s,sendEmail:o})},ue=t(22),je=t.n(ue),be=function(e){var n=e.onChange,t=e.password,r=e.error,a=e.onSubmit,c=e.isFetching,o=e.confirmPass,i=e.onChangeConfirmPass;return e.setNewPassword?Object(N.jsx)(s.a,{to:"/login"}):Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:je.a.loadingBox,children:c?Object(N.jsx)("span",{className:je.a.loading,children:"Loading"}):""}),Object(N.jsxs)("div",{className:je.a.container,children:[Object(N.jsx)("h1",{children:"Create new Password"}),Object(N.jsx)(F,{type:"password",placeholder:"Enter new password",onChangeText:n,value:t}),Object(N.jsx)(F,{type:"password",placeholder:"Confirm new password",onChangeText:i,value:o,error:r}),Object(N.jsx)(G,{onClick:a,disabled:c,children:"Create new password"})]})]})},de=function(){var e=Object(s.h)().token,n=Object(r.useState)(""),t=Object(u.a)(n,2),a=t[0],c=t[1],o=Object(r.useState)(""),i=Object(u.a)(o,2),l=i[0],j=i[1],b=Object(d.b)(),h=Object(d.c)((function(e){return e.recovery.error})),O=Object(d.c)((function(e){return e.recovery.isFetching})),g=Object(d.c)((function(e){return e.recovery.setNewPassword}));return Object(N.jsx)(be,{onChange:function(e){c(e)},password:a,confirmPass:l,error:h,onSubmit:function(){b(a!==l?ie("passwords must be match"):function(e,n){return function(t){t(oe(!0)),B({password:e,resetPasswordToken:n}).then((function(e){t({type:"RECOVERY/SET_NEW_PASSWORD"}),t(ie(""))})).catch((function(e){var n=e.response?e.response.data.error:"Some Error";t(ie(n)),console.log(n)})).finally((function(){t(oe(!1))}))}}(a,e||""))},isFetching:O,onChangeConfirmPass:function(e){j(e)},setNewPassword:g})},he="login",Oe="profile",ge="signup",pe="restore",fe="set-new-password/:token",xe="test",me=function(){return Object(N.jsxs)(s.d,{children:[Object(N.jsx)(s.b,{path:"/",element:Object(N.jsx)(w,{})}),Object(N.jsx)(s.b,{path:Oe,element:Object(N.jsx)(S,{})}),Object(N.jsx)(s.b,{path:ge,element:Object(N.jsx)(q,{})}),Object(N.jsx)(s.b,{path:pe,element:Object(N.jsx)(le,{})}),Object(N.jsx)(s.b,{path:fe,element:Object(N.jsx)(de,{})}),Object(N.jsx)(s.b,{path:xe,element:Object(N.jsx)(ee,{})}),Object(N.jsx)(s.b,{path:he,element:Object(N.jsx)(w,{})}),Object(N.jsx)(s.b,{path:"*",element:Object(N.jsx)(ne,{})})]})},_e=t(12),ve=t.n(_e),Ee=t(40),Ne=t(41),Ce=[{title:"Profile",path:Oe},{title:"SignUp",path:ge},{title:"Restore Password",path:pe},{title:"New password",path:fe},{title:"Test",path:xe}],Re=function(){var e=Object(r.useState)(!1),n=Object(u.a)(e,2),t=n[0],a=n[1],c=Object(d.c)((function(e){return e.loginReducer.isLogged})),s=Object(d.b)(),o=function(){a(!t)};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:ve.a.navbar,children:[Object(N.jsx)(_.b,{to:"#",className:ve.a.menuBars,children:Object(N.jsx)(Ee.a,{onClick:o})}),c?Object(N.jsx)("a",{className:ve.a.login,onClick:function(){s((function(e){R.logout().then((function(){e(m(!1))}))}))},children:"logout"}):Object(N.jsx)(_.b,{to:"/login",className:ve.a.login,children:"Login"})]}),Object(N.jsx)("nav",{className:t?"".concat(ve.a.navMenu," ").concat(ve.a.active):ve.a.navMenu,children:Object(N.jsxs)("ul",{className:ve.a.navMenuItems,onClick:o,children:[Object(N.jsx)("li",{className:ve.a.navbarToggle,children:Object(N.jsx)(_.b,{to:"#",className:ve.a.menuBars,children:Object(N.jsx)(Ne.a,{})})}),Ce.map((function(e,n){return Object(N.jsx)("li",{className:ve.a.navText,children:Object(N.jsx)(_.b,{to:e.path,children:Object(N.jsx)("span",{children:e.title})})},n)}))]})})]})},we=function(){var e=Object(d.b)();return Object(r.useEffect)((function(){e((function(e){R.me().then((function(n){e(m(!0)),e(g(n.data.data))})).catch((function(){e(m(!1))}))}))}),[]),Object(N.jsxs)("div",{className:"App",children:[Object(N.jsx)(Re,{}),Object(N.jsx)(me,{})]})},Se=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,76)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,c=n.getLCP,s=n.getTTFB;t(e),r(e),a(e),c(e),s(e)}))},Ie=t(23),ye={},Te=t(42),ke=Object(Ie.b)({firstReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SOME_ACTION":default:return e}},loginReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"LOGGING_IN":return Object(h.a)(Object(h.a)({},e),{},{isLogged:n.isLogged});case"LOGIN_FAILED":return Object(h.a)(Object(h.a)({},e),{},{error:n.error})}return e},profileReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_USER":return Object(h.a)(Object(h.a)({},e),{},{user:Object(h.a)({},n.userData)});default:return e}},recovery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"RECOVER/IS_FETCHING":case"RECOVERY/ERROR":return Object(h.a)(Object(h.a)({},e),n.payload);case"RECOVERY/SET_NEW_PASSWORD":return Object(h.a)(Object(h.a)({},e),{},{setNewPassword:!0});case"RECOVERY/SEND_EMAIL":return Object(h.a)(Object(h.a)({},e),{},{sendEmail:!0});default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"REGISTRATION/ISFETCHING":return Object(h.a)(Object(h.a)({},e),{},{isFetching:n.isFetching});case"REGISTRATION/EMAILERROR":return Object(h.a)(Object(h.a)({},e),{},{emailError:n.error});case"REGISTRATION/PASSWORDERROR":return Object(h.a)(Object(h.a)({},e),{},{passwordError:n.error});case"REGISTRATION/ISREGISTRATIONSUCCESSFUL":return Object(h.a)(Object(h.a)({},e),{},{isRegistrationSuccessful:n.isRegistrationSuccessful});default:return e}}}),Le=Object(Ie.c)(ke,Object(Ie.a)(Te.a));c.a.render(Object(N.jsx)(d.a,{store:Le,children:Object(N.jsx)(_.a,{children:Object(N.jsx)(we,{})})}),document.getElementById("root")),Se()}},[[75,1,2]]]);
//# sourceMappingURL=main.a33651ca.chunk.js.map